---------------------------------------
-- INTRANET CELU
-- \App_Data\Tables\Diretoria\TBL_MORADOR.SQL
-- # 2010-10-23 - Criação
-- Matheus Araújo
---------------------------------------

CREATE TABLE TBL_MORADOR
(
	COD_MORADOR INT IDENTITY,
	CHR_USERNAME VARCHAR(32) NOT NULL,
	CHR_PASSWORD VARCHAR(32) NOT NULL,
	CHR_NOME VARCHAR(128) NOT NULL,	
	CHR_APELIDO VARCHAR(128),
	CHR_NUMERO_LAVANDERIA VARCHAR(4),
	COD_PERFIL INT,
	COD_STATUS_MORADOR INT,
	COD_IES INT,
	COD_CURSO INT,
	COD_QUARTO INT,	
	BLN_ATIVO BIT,
	COD_CIDADE_ORIGEM INT,
	CHR_TELEFONE_CELULAR VARCHAR(16),
	CHR_EMAIL VARCHAR(64),
	CHR_ENDERECO_CONTATO VARCHAR(1024),
	CHR_TELEFONE_CONTATO VARCHAR(16),
	CHR_RG VARCHAR(16),
	CHR_CPF VARCHAR(16),
	INT_DIA_ANIVERSARIO INT,
	INT_MES_ANIVERSARIO INT,
	INT_SEMESTRE_INGRESSO INT,
	INT_ANO_INGRESSO INT,
	
	CONSTRAINT PK_MORADOR PRIMARY KEY (COD_MORADOR),
	CONSTRAINT UN_USERNAME UNIQUE (CHR_USERNAME),	
	CONSTRAINT FK_MORADOR_PERFIL FOREIGN KEY (COD_PERFIL) REFERENCES TBL_PERFIL (COD_PERFIL),
	CONSTRAINT FK_MORADOR_STATUS_MORADOR FOREIGN KEY (COD_STATUS_MORADOR) REFERENCES TBL_STATUS_MORADOR (COD_STATUS_MORADOR),
	CONSTRAINT FK_MORADOR_IES FOREIGN KEY (COD_IES) REFERENCES TBL_IES (COD_IES),
	CONSTRAINT FK_MORADOR_CURSO FOREIGN KEY (COD_CURSO) REFERENCES TBL_CURSO (COD_CURSO),
	CONSTRAINT FK_MORADOR_QUARTO FOREIGN KEY (COD_QUARTO) REFERENCES TBL_QUARTO (COD_QUARTO),
	CONSTRAINT FK_MORADOR_CIDADE_ORIGEM FOREIGN KEY (COD_CIDADE_ORIGEM) REFERENCES TBL_CIDADE (COD_CIDADE)
)
